---
title: "싱글턴 패턴"
date: 2025-06-19 # 작성 날짜에 맞게 수정
categories:
  - Software Engineering
  - Design Patterns
  - Creational Patterns
tags:
  - DesignPattern
  - CreationalPattern
  - Singleton
---

# 싱글턴 패턴

## 1. 개요

싱글턴(Singleton) 패턴은 **클래스의 인스턴스를 오직 하나만 생성하도록 보장**하며, 그 유일한 인스턴스에 대한 **전역적인 접근점(Global Access Point)을 제공**하는 디자인 패턴. 이는 **생성(Creational) 패턴** 중 하나에 속함.

즉, 애플리케이션 내에서 특정 클래스의 객체가 단 하나만 존재해야 할 때 사용하는 방식.

## 2. 문제점

특정 리소스나 서비스가 시스템 전체에서 오직 하나의 인스턴스만으로 관리되어야 할 경우가 있음. 예를 들어, 로거(Logger), 설정 관리자(Configuration Manager), 스레드 풀(Thread Pool), 장치 드라이버 등이 이에 해당.

이러한 객체를 여러 곳에서 필요할 때마다 `new` 키워드로 생성하면 다음과 같은 문제가 발생할 수 있음:

* **자원 낭비:** 불필요하게 여러 인스턴스가 생성되어 메모리나 시스템 자원을 낭비할 수 있음
* **일관성 문제:** 여러 인스턴스가 각기 다른 상태를 가질 수 있어, 시스템의 일관성 유지에 어려움이 있음.
* **관리의 복잡성:** 전역적으로 접근해야 하는 객체인데 여러 인스턴스가 존재하면 이를 관리하기 복잡해짐.

## 3. 구성 요소

싱글턴 패턴은 일반적으로 하나의 클래스로 구성되지만, 내부적으로 다음과 같은 특징을 가진다.

1.  **Private 생성자:**
    * 클래스 외부에서 `new` 키워드를 사용하여 객체를 직접 생성하는 것을 막기 위함인 것.
    * 이를 통해 오직 클래스 내부에서만 인스턴스를 생성할 수 있도록 강제함.

2.  **정적 멤버 변수:**
    * 클래스의 유일한 인스턴스를 저장할 정적 변수.
    * 이 변수는 일반적으로 `private`으로 선언하여 외부에서 직접 접근하는 것을 막음.

3.  **정적 팩토리 메서드:**
    * 유일한 인스턴스를 반환하는 공개(public) 정적 메서드.
    * 이 메서드는 처음 호출될 때 인스턴스를 생성하고, 이후 호출될 때는 이미 생성된 인스턴스를 반환하도록 구현.

## 4. 작동 원리

1.  **클래스 외부에서 직접 인스턴스 생성을 막음:** 클래스의 생성자를 `private`으로 선언하여 외부에서 `new` 연산자를 통한 객체 생성을 원천 봉쇄.
2.  **유일한 인스턴스 저장:** 클래스 내부에 자신의 타입으로 된 `private static` 변수를 선언하여 유일한 인스턴스를 담을 공간을 마련.
3.  **유일한 인스턴스 제공:** `public static` 메서드(예: `getInstance()`)를 제공하여 외부에서 이 클래스의 인스턴스를 얻을 수 있도록 함. 이 메서드 내에서는 처음 호출될 때만 인스턴스를 생성하고, 그 이후부터는 이미 생성된 인스턴스를 반환하는 로직을 가짐.
    * **지연 초기화(Lazy Initialization):** 인스턴스가 실제로 필요할 때까지 생성을 미루는 방식이 주로 사용됨.
    * **스레드 안정성(Thread Safety):** 멀티스레드 환경에서 여러 스레드가 동시에 `getInstance()`를 호출할 때 인스턴스가 중복 생성되지 않도록 동기화(Synchronization) 처리가 필요.

## 5. 장점

* **자원 절약 및 성능 향상:** 필요한 경우에만 인스턴스를 생성하고, 이미 생성된 인스턴스를 재활용하여 메모리와 시스템 자원을 절약하는 것.
* **데이터 일관성 유지:** 전역적으로 유일한 인스턴스에 접근하므로, 여러 객체들이 동일한 데이터를 공유하고 조작할 때 일관성을 유지할 수 있는 것.
* **전역 접근점 제공:** 유일한 인스턴스에 대한 쉬운 접근 방법을 제공하는 것.
* **객체 제어 용이:** 인스턴스의 생성 및 사용을 철저히 통제할 수 있는 것.

## 6. 단점

* **강한 결합:** 싱글턴 인스턴스에 직접 의존하게 되어, 클라이언트 코드가 해당 싱글턴 클래스에 강하게 결합되는 것. 이는 단위 테스트를 어렵게 만들 수 있음.
* **유연성 저하:** 인스턴스가 하나로 고정되므로, 필요에 따라 여러 인스턴스를 사용하거나 다른 구현으로 교체하기 어려움.
* **멀티스레드 환경 고려:** 멀티스레드 환경에서 안전하게 싱글턴을 구현하려면 추가적인 동기화 처리가 필요하며, 이는 성능 저하로 이어질 수 있음. (Double-Checked Locking, Bill Pugh Singleton 등 다양한 구현 방식이 존재함)
* **테스트의 어려움:** 전역 상태를 가지므로, 테스트 시 상태를 초기화하거나 독립적인 테스트 환경을 구축하기 어려운 것. 목 객체(Mock Object) 사용이 복잡해질 수 있음.

## 7. 활용 예시

* **로거(Logger):** 시스템의 모든 로깅 요청을 단일 로거 인스턴스가 처리하도록 할 때 사용.
* **설정 관리자(Configuration Manager):** 애플리케이션의 설정 정보를 담는 객체가 유일하게 하나만 존재해야 할 때 사용.
* **데이터베이스 연결 풀(Database Connection Pool):** 데이터베이스 연결을 관리하는 풀이 시스템 전체에서 하나만 존재해야 할 때 사용함.
* **스레드 풀(Thread Pool):** 스레드를 관리하는 풀 인스턴스가 하나만 필요할 때 사용.
* **캐시(Cache):** 애플리케이션 전반에서 사용되는 캐시 인스턴스가 하나만 필요할 때 사용.
