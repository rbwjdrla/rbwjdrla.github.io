---
layout: single
title: "05.SQLD 정규화"
date: 2025-07-31
categories: [Database, Sql]
---

## 핵심 구분 포인트

SQLD에서 다루는 정규화 절차는 제1정규화, 제2정규화, 제3정규화, 그리고 BCNF(보이스-코드 정규형)까지이며, 각 절차의 핵심 내용은 다음과 같다:

- **제1정규화**: 속성값이 모두 원자값으로 구성되도록 하여 유사 속성 반복을 제거하고 중복값을 제거
- **제2정규화**: 기본키가 두 개 이상인 경우, 기본키의 부분에 대해서 일반 속성이 함수 종속성을 갖는 부분 함수 종속성을 제거
- **제3정규화**: 일반 속성 간의 함수 종속성, 즉 이행 함수 종속성을 제거
- **BCNF**: 일반 속성이 결정자가 되어 기본키를 결정하는 경우의 함수 종속성을 제거

## 정규화 절차별 특징 비교표

| 정규형 | 제거 대상 | 핵심 내용 | 결과 |
|--------|-----------|-----------|------|
| **1NF** | 반복 속성, 중복값 | 속성값의 원자값 확보 | 1대 다 관계로 테이블 분리 |
| **2NF** | 부분 함수 종속성 | 복합키의 일부에만 종속되는 속성 제거 | 복합키 전체에 종속되는 속성만 유지 |
| **3NF** | 이행 함수 종속성 | 일반 속성 간 함수 종속성 제거 | 비식별 관계로 테이블 분리 |
| **BCNF** | 후보키 아닌 결정자 | 일반 속성이 기본키를 결정하는 경우 제거 | 3NF로 해결되지 않는 이상 현상 방지 |

## 정규화의 개념과 중요성

### 기본 개념
- 정규화는 데이터베이스 모델링에서 **테이블을 잘 조직화**하기 위한 과정
- 영어로는 'Normalization'이며, 표준화(Standardization)와는 다른 개념
- **이상 현상(Anomaly) 방지**가 주요 목적

### 이상 현상의 종류
- **삽입 이상**: 데이터 삽입 시 발생하는 문제
- **갱신 이상**: 데이터 수정 시 발생하는 문제  
- **삭제 이상**: 데이터 삭제 시 발생하는 문제

## 정규화와 성능의 관계

### 정규화의 효과
**긍정적 효과:**
- 데이터 중복 최소화
- 이상 현상 방지
- 데이터 입력, 수정, 삭제 성능 향상
- 불필요한 트랜잭션(락 등) 감소로 전체 시스템 성능 향상 가능

**부정적 효과:**
- 테이블 분해로 인한 조인 횟수 증가
- 조인 증가에 따른 조회 성능 하락 가능성

## 각 정규화 절차 상세 설명

### 1차 정규화(1NF) - 속성의 원자값 확보

**개념:**
- 테이블의 모든 속성값이 **원자값(Atomic Value)**만으로 구성되어야 함
- 하나의 속성에 여러 값이 들어가거나, 유사한 속성이 반복되면 안 됨

**문제 예시:**
```
기존 테이블: 장기재고
- 1개월 수량, 2개월 수량, 1개월 금액, 2개월 금액 (유사 속성 반복)
```

**해결 방법:**
- 반복되는 속성을 분리하여 **1대 다 관계**로 테이블 분리
- '재고 기간'을 별도 속성으로 분리하여 '재고 상세' 테이블 생성

**효과:**
- 삽입, 삭제, 갱신 이상 현상 방지
- 테이블 구조의 안정성 확보

### 2차 정규화(2NF) - 부분 함수 종속성 제거

**개념:**
- **기본키가 두 개 이상(복합키)인 경우**에 적용
- **부분 함수 종속성**(일반 속성이 기본키의 일부에만 종속되는 현상) 제거

**문제 예시:**
```
기존 테이블: 납부내역
- 복합키: (관서번호, 납부자번호)
- 문제: 관서명, 관서등록일자가 관서번호만으로 결정됨
```

**해결 방법:**
- 부분 함수 종속성이 있는 속성을 **별도 테이블로 분리**
- 원래 테이블은 복합키 전체에만 종속되는 속성만 유지
- 분리된 테이블들은 **1대 다 관계**를 가짐

### 3차 정규화(3NF) - 이행 함수 종속성 제거

**개념:**
- **일반 속성 간의 함수 종속성(이행 함수 종속성)** 제거
- 기본키가 아닌 일반 속성이 또 다른 일반 속성을 결정하는 경우를 분리

**문제 예시:**
```
기존 테이블: 학생정보
- 학번(PK), 지도교수, 학과
- 문제: 지도교수가 학과를 결정함 (일반 속성 간 종속성)
```

**해결 방법:**
- 일반 속성 간 종속성을 분리하여 **별도 테이블로 분리**
- 예: '학생지도(학번, 지도교수)'와 '지도교수-학과' 테이블로 분리

**특징:**
- 분리된 테이블 간에는 **비식별 관계**가 됨

### BCNF(보이스-코드 정규형) - 후보키 아닌 결정자 제거

**개념:**
- 3차 정규화 이후에도 **일반 속성이 기본키를 결정하는 경우**에 적용
- **후보키가 아닌 결정자**가 존재할 때 분해 필요

**문제 예시:**
```
기존 테이블: 수강신청
- 기본키: (학번, 과목)
- 문제: 강사(일반 속성)가 과목을 결정함
```

**해결 방법:**
- 일반 속성이 기본키를 결정하는 경우, 해당 속성을 **별도 테이블로 분리**

**특징:**
- 3차 정규화로도 해결되지 않는 이상 현상을 추가로 방지

## 정규화와 반정규화

### 정규화와 정규형의 구분
- **정규화**: 테이블을 분해하는 **과정**
- **정규형**: 그 결과로 만들어진 **상태**

### 반정규화
- 정규화가 완벽히 이루어진 후, **조인 증가로 조회 성능이 하락할 때** 적용
- 반정규화는 정규화 이후에만 적용되며, 순서가 바뀌지 않음
- 정규화는 데이터베이스 설계의 기본 전제 조건

## 정규화 요약

**핵심 기준:**
- **1차 정규화**: 속성의 원자값 확보, 유사한 속성/중복값 제거
- **2차 정규화**: 기본키가 두 개 이상일 때 부분 함수 종속성 제거  
- **3차 정규화**: 일반 속성 간 이행 함수 종속성 제거
- **BCNF**: 일반 속성이 결정자가 되어 기본키를 결정하는 경우 함수 종속성 제거

정규화는 단순 암기보다는 **예시와 원리를 이해**하는 것이 중요하며, 문제 풀이와 실무 모두에서 매우 중요한 개념이다.
